{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"47430297-39549c12782b3a6dbb0b94f2b\";\nconst API_URL = \"https://pixabay.com/api/\";\n\nexport function fetchImg(query, page = 1, perPage = 12) {\n    const urlImg = `${API_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n    \n    return fetch(urlImg)\n        .then(response => {\n        if (!response.ok) {\n            throw new Error('Error fetching images');\n        }\n        return response.json();\n});\n}","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(`.gallery`);\n\nlet lightbox;\n\nexport function changeGallery(images){\n    const markup = images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n        `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n    </div>\n    </a>`\n    ).join(\"\");\n\ngallery.innerHTML = markup;\n\nif (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n} else {\n    lightbox.refresh();\n}\n}\n\nexport function clearGallery(){\n    gallery.innerHTML = \" \";\n}\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.classList.remove('hidden');\n    }\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.classList.add('hidden');\n    }\n}\n","import { fetchImg } from './js/pixabay-api.js';\nimport { changeGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(`.form`);\nconst input = document.querySelector(`.input`);\n\nform.addEventListener(`submit`, onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    if (query === \"\") {\n        iziToast.error({ title: 'Error', message: 'Please enter a search query' });\n    return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    fetchImg(query)\n    .then(data => {\n    if (data.hits.length === 0) {\n        iziToast.info({ title: 'Info', message: 'Sorry, there are no images matching your search query.' });\n        return;\n    }\n    changeGallery(data.hits);\n    })\n    .catch(error => {\n        iziToast.error({ title: 'Error', message: 'Something went wrong. Please try again later.' });\n        console.error(error);\n    })\n    .finally(() => hideLoader());\n}"],"names":["API_KEY","API_URL","fetchImg","query","page","perPage","urlImg","response","gallery","lightbox","changeGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","form","input","onSearch","event","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAU,2BAET,SAASC,EAASC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CACpD,MAAMC,EAAS,GAAGL,CAAO,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAEhK,OAAO,MAAMC,CAAM,EACd,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,uBAAuB,EAE3C,OAAOA,EAAS,MACxB,CAAC,CACD,CCRA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAEG,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC5F,YAAYL,CAAa;AAAA,gBACjBD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAEfC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA,SAGxC,EAAM,KAAK,EAAE,EAEbX,EAAQ,UAAYI,EAEfH,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAIW,EAAe,YAAY,CAI9C,CAEO,SAASC,GAAc,CAC1Bb,EAAQ,UAAY,GACxB,CACO,SAASc,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,UAAU,OAAO,QAAQ,CAExC,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,UAAU,IAAI,QAAQ,CAErC,CCvCA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAE7CD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EAEpB,MAAMzB,EAAQuB,EAAM,MAAM,KAAI,EAC9B,GAAIvB,IAAU,GAAI,CACd0B,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,6BAA6B,CAAE,EAC7E,MACC,CAEDR,IACAC,IAEApB,EAASC,CAAK,EACb,KAAK2B,GAAQ,CACd,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CAAE,MAAO,OAAQ,QAAS,wDAAwD,CAAE,EAClG,MACH,CACDnB,EAAcoB,EAAK,IAAI,CAC3B,CAAK,EACA,MAAMC,GAAS,CACZF,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,+CAA+C,CAAE,EAC3F,QAAQ,MAAME,CAAK,CAC3B,CAAK,EACA,QAAQ,IAAMP,EAAU,CAAE,CAC/B"}